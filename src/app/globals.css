@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 255, 255, 255;
  --background-start-rgb: 16, 3, 48; /* dark-purple */
  --background-end-rgb: 0, 0, 0; /* black */
  
  /* Brand Colors */
  --primary-purple: 164, 143, 245;
  --dark-purple: 18, 3, 57;
  
  /* Fluid spacing scale (scales with viewport) */
  --space-xs: clamp(0.25rem, 0.5vw, 0.5rem);
  --space-sm: clamp(0.5rem, 1vw, 0.75rem);
  --space-md: clamp(0.75rem, 1.5vw, 1.25rem);
  --space-lg: clamp(1rem, 2vw, 2rem);
  --space-xl: clamp(1.5rem, 3vw, 3rem);
  --space-2xl: clamp(2rem, 4vw, 4rem);
  
  /* Fluid container widths */
  --container-sm: min(90vw, 640px);
  --container-md: min(90vw, 768px);
  --container-lg: min(90vw, 1024px);
  --container-xl: min(90vw, 1280px);
}

/* Base font size that scales with viewport but stays readable */
html {
  /* 16px base at 1920px viewport, scales down/up proportionally */
  /* Minimum 14px, maximum 18px */
  font-size: clamp(0.875rem, 0.8rem + 0.25vw, 1.125rem);
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Desktop auto-scaling: Ensures consistent appearance regardless of zoom */
/* This uses viewport units and clamp() to auto-adjust sizing */
@media (min-width: 1024px) {
  :root {
    /* Scale factor based on viewport width for desktop consistency */
    --scale-factor: clamp(0.85, calc(100vw / 1920), 1.15);
  }
  
  /* Apply scaling to main content containers */
  .scale-container {
    transform: scale(var(--scale-factor));
    transform-origin: top center;
  }
}

/* Mobile scaling consistency */
@media (max-width: 767px) {
  :root {
    /* Mobile scale factor */
    --scale-factor: clamp(0.9, calc(100vw / 390), 1.1);
  }
}

/* Prevent horizontal overflow */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
  overflow-x: hidden;
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #A48FF5, #E91E63);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #B89FFF, #FF2E7E);
}

/* Custom scrollbar for content areas */
.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(168, 85, 247, 0.1);
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, rgba(168, 85, 247, 0.6), rgba(236, 72, 153, 0.6));
  border-radius: 10px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, rgba(168, 85, 247, 0.9), rgba(236, 72, 153, 0.9));
}

/* Remove dark mode specific overrides as we are now dark-by-default */
/* @media (prefers-color-scheme: dark) { ... } */

/* Fluid Typography - scales smoothly with viewport and user zoom */
/* Desktop: Uses vw units that adapt to browser zoom */
/* Mobile: Uses smaller base sizes with tighter ranges */
h1, .text-5xl, .text-6xl, .text-7xl {
  font-size: clamp(1.75rem, 1rem + 2.5vw, 4rem);
  line-height: 1.1;
}

h2, .text-4xl {
  font-size: clamp(1.5rem, 0.75rem + 2vw, 3rem);
  line-height: 1.2;
}

h3, .text-3xl {
  font-size: clamp(1.25rem, 0.75rem + 1.5vw, 2.25rem);
  line-height: 1.3;
}

h4, .text-2xl {
  font-size: clamp(1.125rem, 0.75rem + 1vw, 1.75rem);
  line-height: 1.4;
}

p, .text-base, .text-lg {
  font-size: clamp(0.875rem, 0.75rem + 0.35vw, 1.125rem);
  line-height: 1.6;
}

small, .text-sm {
  font-size: clamp(0.75rem, 0.625rem + 0.3vw, 0.875rem);
  line-height: 1.5;
}

.text-xs {
  font-size: clamp(0.625rem, 0.5rem + 0.2vw, 0.75rem);
  line-height: 1.5;
}

/* Fluid spacing utilities */
.fluid-padding {
  padding: clamp(0.75rem, 2vw, 2rem);
}

.fluid-padding-x {
  padding-left: clamp(1rem, 3vw, 3rem);
  padding-right: clamp(1rem, 3vw, 3rem);
}

.fluid-padding-y {
  padding-top: clamp(1rem, 2.5vw, 2.5rem);
  padding-bottom: clamp(1rem, 2.5vw, 2.5rem);
}

.fluid-gap {
  gap: clamp(0.5rem, 1.5vw, 1.5rem);
}

.fluid-margin-y {
  margin-top: clamp(1rem, 3vw, 3rem);
  margin-bottom: clamp(1rem, 3vw, 3rem);
}

/* Container with fluid max-width */
.fluid-container {
  width: 100%;
  max-width: min(90vw, 1280px);
  margin-left: auto;
  margin-right: auto;
  padding-left: clamp(1rem, 3vw, 2rem);
  padding-right: clamp(1rem, 3vw, 2rem);
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  /* Gradient text utilities */
  .text-gradient-primary {
    @apply bg-gradient-to-r from-primary-purple via-dark-purple to-primary-purple bg-clip-text text-transparent;
  }
  
  /* Glass morphism utility */
  .glass-morphism {
    @apply bg-white/10 backdrop-blur-xl border border-white/20;
  }
  
  /* Animated gradient background */
  .animated-gradient {
    background: linear-gradient(
      -45deg,
      rgb(var(--primary-purple)),
      rgb(var(--dark-purple))
    );
    background-size: 400% 400%;
    animation: gradient 15s ease infinite;
  }
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}
